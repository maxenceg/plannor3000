(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e){e.exports={home:{"use-a-link":"Ou utilise un lien","get-started":"Pour commencer, modifie","save-to-reload":"et sauvegarde pour recharger.","create-route":"Pour cr\xe9er une route, modifie routes.js et associe une page","generate-component":"Pour cr\xe9er une page ou un simple composant, lance: ","generate-module":"Pour ajouter de la logique m\xe9tier, cr\xe9er un dossier dans redux avec tes reducers/actions/sagas/selectors/constants/...","click-me":"Click sur moi",readme:"Lis le README.md pour d\xe9couvrir les super commandes npm que nous avons ajout\xe9"},page:{back:"Retour","api-to-translate-example":"Ce message est traduit en utilisant directement l'API react-intl","fetch-github-avatar":"Affiche l'avatar github","add-github-username":"Entrer un username github"}}},185:function(e){e.exports={home:{"use-a-link":"Or use a link","get-started":"To get started, edit","save-to-reload":"and save to reload.","create-route":"To create a route, edit routes.js and link it to a page","generate-component":"To create a page or a simple component, run: ","generate-module":"To add business logic, add a file in ./redux with your reducers/actions/sagas/selectors/constants/...","click-me":"Click me",readme:"Look at the README.md to discover the awesome npm commands we added"},page:{back:"Back","api-to-translate-example":"This message is translated using directly react-intl API","fetch-github-avatar":"Show github avatar","add-github-username":"Enter a github username"}}},239:function(e,t){},241:function(e,t,r){e.exports=r(610)},601:function(e,t){},607:function(e,t){},610:function(e,t,r){"use strict";r.r(t);r(242);var n=r(0),a=r.n(n),o=r(46),i=r.n(o),l=r(228),s=r.n(l),c=r(8),d=r(9),u=r(11),p=r(10),E=r(12),m=r(33),O=r(614),S=r(613),_=r(110),b=r(232),h=r.n(b),T=Object(_.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:h.a}}),f=r(612),R=r(179),C=r(233),y=r.n(C),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(y.a,{style:this.props.style,onClick:this.props.onClickAction,variant:"contained",color:"primary"},this.props.label)}}]),t}(n.Component),v=r(235),g=r.n(v),U=r(237),j=r.n(U),D=r(234),A=r.n(D),x=r(236),M=r.n(x),w=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(A.a,{style:this.props.propStyle},a.a.createElement(g.a,{htmlFor:"age-simple"},this.props.label),a.a.createElement(M.a,{value:this.props.value,onChange:this.props.handleChange},this.props.options.map(function(e){return a.a.createElement(j.a,{key:e.value,value:e.value},e.label)})))}}]),t}(n.Component),B=r(4),I={panelButton:{minWidth:"auto",minHeight:"auto",width:"32px",height:"32px",padding:0},settingsButton:{marginRight:5},editTeamButton:{marginRight:5},refreshButton:{}},G=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.props.style},a.a.createElement(L,{style:Object(B.a)({},I.panelButton,I.settingsButton),label:a.a.createElement("i",{className:"material-icons"},"settings")}),!!this.props.isTeamEditable&&a.a.createElement(L,{style:Object(B.a)({},I.panelButton,I.editTeamButton),label:a.a.createElement("i",{className:"material-icons"},"people"),onClickAction:this.props.editTeamAction}),a.a.createElement(L,{style:Object(B.a)({},I.panelButton,I.refreshButton),label:a.a.createElement("i",{className:"material-icons"},"refresh"),onClickAction:this.props.refreshAction}))}}]),t}(a.a.Component);function P(e){return 60*e.hour+e.minute}function k(e,t){return P(t)-P(e)}var N={cardContainer:{width:"100%",backgroundColor:"#2196f3dd",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc",borderRadius:5,padding:10,boxSizing:"border-box",color:"white"},footerIcon:{display:"flex",flexDirection:"row-reverse"},icon:{cursor:"pointer"}},H=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.startTime&&this.props.dayStartTime&&this.props.dayEndTime?100*(P(this.props.startTime)-P(this.props.dayStartTime))/k(this.props.dayStartTime,this.props.dayEndTime)+"%":null,t=this.props.startTime&&this.props.endTime&&this.props.dayStartTime&&this.props.dayEndTime?100*(P(this.props.endTime)-P(this.props.startTime))/k(this.props.dayStartTime,this.props.dayEndTime)+"%":null,r=e&&t?{top:e,height:t,position:"absolute"}:null;return a.a.createElement("div",{style:Object(B.a)({},this.props.style,N.cardContainer,r)},this.props.content,a.a.createElement("div",{style:N.footerIcon},a.a.createElement("i",{style:N.icon,className:"material-icons",onClick:this.props.icon.action},this.props.icon.name)))}}]),t}(a.a.Component),F={boardSelect:{width:"100%"},buttonsPanel:{display:"flex",justifyContent:"flex-end"},connectToTrelloButton:{display:"inline-block"},cardsContainer:{marginTop:7,flexGrow:100,overflowY:"scroll"},planCard:{marginTop:5}},Q=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){window.Trello.authorize({type:"popup",name:"Plannor 3000",scope:{read:"true",write:"true"},expiration:"never"}),this.props.fetchTrelloUser(),this.props.fetchTrelloUserBoards()}},{key:"render",value:function(){var e=this,t=this.props.trelloUserBoards?this.props.trelloUserBoards.map(function(e){return{value:e.id,label:e.name}}):null,r=this.props.trelloUserColumns?this.props.trelloUserColumns.map(function(e){return{value:e.id,label:e.name}}):null;return a.a.createElement("div",{style:this.props.style},!this.props.trelloUserFullName&&a.a.createElement(L,{style:F.connectToTrelloButton,label:"Se connecter avec Trello",onClickAction:function(){window.Trello.authorize({type:"popup",name:"Plannor 3000",scope:{read:"true",write:"true"},expiration:"never"}),e.props.fetchTrelloUser(),e.props.fetchTrelloUserBoards()}}),this.props.trelloUserBoards&&this.props.trelloUserBoards.length>0&&a.a.createElement("div",null,a.a.createElement(G,{style:F.buttonsPanel,refreshAction:function(){e.props.fetchTrelloUserColumns(e.props.trelloUserSelectedBoard),e.props.fetchDailyGoalsCards(e.props.trelloUserDailyGoalsColumn)},isTeamEditable:this.props.trelloUserSelectedBoard.length,editTeamAction:function(){e.props.toggleEditTeamPopin()}}),a.a.createElement(w,{propStyle:F.boardSelect,value:this.props.trelloUserSelectedBoard,handleChange:function(t){e.props.addTrelloUserSelectedBoard(t.target.value),e.props.fetchTrelloUserColumns(t.target.value)},label:"S\xe9lectionnez un board",options:t}),""!==this.props.trelloUserSelectedBoard&&a.a.createElement("div",null,a.a.createElement(w,{propStyle:F.boardSelect,value:this.props.trelloUserSprintColumn,handleChange:function(t){e.props.addTrelloUserSprintColumn(t.target.value),e.props.fetchSprintBacklogCards(t.target.value)},label:"S\xe9lectionnez la colonne Sprint Backlog",options:r}),a.a.createElement(w,{propStyle:F.boardSelect,value:this.props.trelloUserDailyGoalsColumn,handleChange:function(t){e.props.addTrelloUserDailyGoalsColumn(t.target.value),e.props.fetchDailyGoalsCards(t.target.value)},label:"S\xe9lectionnez la colonne Daily Goals",options:r}))),a.a.createElement("div",{style:F.cardsContainer},this.props.trelloUserSprintBacklogCards.length>0&&this.props.trelloUserSprintBacklogCards.map(function(t){return a.a.createElement(H,{style:F.planCard,key:t.id,content:t.name,icon:{name:"arrow_right_alt",action:function(){return r=t.id,e.props.toggleDevSelectionPopin(),void e.props.addDevSelectionCardId(r);var r}}})})))}}]),t}(a.a.Component),V={FETCH_TRELLO_USER:{REQUEST:"FETCH_TRELLO_USER_REQUEST",SUCCESS:"FETCH_TRELLO_USER_SUCCESS",ERROR:"FETCH_TRELLO_USER_ERROR"},FETCH_TRELLO_USER_BOARDS:{REQUEST:"FETCH_TRELLO_USER_BOARDS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_BOARDS_SUCCESS",ERROR:"FETCH_TRELLO_USER_BOARDS_ERROR"},FETCH_TRELLO_USER_COLUMNS:{REQUEST:"FETCH_TRELLO_USER_COLUMNS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_COLUMNS_SUCCESS",ERROR:"FETCH_TRELLO_USER_COLUMNS_ERROR"},FETCH_TRELLO_USER_DAILY_GOALS_CARDS:{REQUEST:"FETCH_TRELLO_USER_DAILY_GOALS_CARDS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_DAILY_GOALS_CARDS_SUCCESS",ERROR:"FETCH_TRELLO_USER_DAILY_GOALS_CARDS_ERROR"},FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS:{REQUEST:"FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS_SUCCESS",ERROR:"FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS_ERROR"},FETCH_TRELLO_USER_BOARD_MEMBERS:{REQUEST:"FETCH_TRELLO_USER_BOARD_MEMBERS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_BOARD_MEMBERS_SUCCESS",ERROR:"FETCH_TRELLO_USER_BOARD_MEMBERS_ERROR"},TAG_DEVS_ON_CARD:{REQUEST:"TAG_DEVS_ON_CARD_REQUEST",SUCCESS:"TAG_DEVS_ON_CARD_SUCCESS",ERROR:"TAG_DEVS_ON_CARD_ERROR"},MOVE_CARD_TO_DAILY_GOALS:{REQUEST:"MOVE_CARD_TO_DAILY_GOALS_REQUEST",SUCCESS:"MOVE_CARD_TO_DAILY_GOALS_SUCCESS",ERROR:"MOVE_CARD_TO_DAILY_GOALS_ERROR"},ADD_TRELLO_USER_SELECTED_BOARD:"ADD_TRELLO_USER_SELECTED_BOARD",ADD_TRELLO_USER_DAILY_GOALS_COLUMN:"ADD_TRELLO_USER_DAILY_GOALS_COLUMN",ADD_TRELLO_USER_SPRINT_COLUMN:"ADD_TRELLO_USER_SPRINT_COLUMN",TOGGLE_TRELLO_TEAM_MEMBERSHIP:"TOGGLE_TRELLO_TEAM_MEMBERSHIP"};function z(){return{type:V.FETCH_TRELLO_USER.REQUEST}}function Y(e){return{type:V.FETCH_TRELLO_USER.SUCCESS,payload:{user:e}}}function W(e){return{type:V.FETCH_TRELLO_USER.ERROR,payload:{errorMessage:e.message}}}var K=function(e){return function(t){t({type:V.FETCH_TRELLO_USER_BOARD_MEMBERS.REQUEST}),window.Trello.get("boards/"+e+"/members",{fields:"avatarHash,fullName,initials"},function(r){return t((n=e,a=r,{type:V.FETCH_TRELLO_USER_BOARD_MEMBERS.SUCCESS,payload:{boardOrigin:n,members:a}}));var n,a},function(e){return t(function(e){return{type:V.FETCH_TRELLO_USER_BOARD_MEMBERS.ERROR,payload:{errorMessage:e.message}}}(e))})}};function X(e){return{type:V.TOGGLE_TRELLO_TEAM_MEMBERSHIP,payload:{memberId:e}}}var q=r(615),J=function(e){return e.trelloUserState.user.selectedBoard},$=function(e){return e.trelloUserState.user.dailyGoalsColumn.id},Z=function(e){return e.trelloUserState.user.boardMembers},ee=function(e){return e.trelloUserState.user.boardMembersOrigin},te=function(e){return e.trelloUserState.project.devTeam},re={user:{fullName:null,username:null,boards:[],selectedBoard:"",columns:[],dailyGoalsColumn:{id:"",cards:[]},sprintColumn:{id:"",cards:[]},boardMembers:[]},project:{devTeam:[]},error:null,isLoading:!1};var ne={TOGGLE_EDIT_TEAM_POPIN:"TOGGLE_EDIT_TEAM_POPIN",TOGGLE_DEV_SELECTION_POPIN:"TOGGLE_DEV_SELECTION_POPIN",ADD_DEV_SELECTION_CARD_ID:"ADD_DEV_SELECTION_CARD_ID",TOGGLE_MEMBER_SELECTION:"TOGGLE_MEMBER_SELECTION"};function ae(){return{type:ne.TOGGLE_EDIT_TEAM_POPIN}}function oe(){return{type:ne.TOGGLE_DEV_SELECTION_POPIN}}function ie(e){return{type:ne.ADD_DEV_SELECTION_CARD_ID,payload:{cardId:e}}}var le={fetchTrelloUser:function(){return function(e){e(z()),window.Trello.members.get("me",{fields:"username,fullName"},function(t){return e(Y(t))},function(t){return e(W(t))})}},fetchTrelloUserBoards:function(){return function(e){e({type:V.FETCH_TRELLO_USER_BOARDS.REQUEST}),window.Trello.members.get("me/boards",{fields:"name,lists=open"},function(t){return e((r=t,{type:V.FETCH_TRELLO_USER_BOARDS.SUCCESS,payload:{boards:r}}));var r},function(t){return e(function(e){return{type:V.FETCH_TRELLO_USER_BOARDS.ERROR,payload:{errorMessage:e.message}}}(t))})}},fetchTrelloUserColumns:function(e){return function(t){t({type:V.FETCH_TRELLO_USER_COLUMNS.REQUEST}),window.Trello.get("boards/"+e+"/lists",{fields:"name"},function(e){return t((r=e,{type:V.FETCH_TRELLO_USER_COLUMNS.SUCCESS,payload:{columns:r}}));var r},function(e){return t(function(e){return{type:V.FETCH_TRELLO_USER_COLUMNS.ERROR,payload:{errorMessage:e.message}}}(e))})}},fetchDailyGoalsCards:function(e){return function(t){t({type:V.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.REQUEST}),window.Trello.get("lists/"+e+"/cards",{fields:"idShort,name,idMembers"},function(e){return t((r=e,{type:V.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.SUCCESS,payload:{cards:r}}));var r},function(e){return t(function(e){return{type:V.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.ERROR,payload:{errorMessage:e.message}}}(e))})}},addTrelloUserSelectedBoard:function(e){return{type:V.ADD_TRELLO_USER_SELECTED_BOARD,payload:{board:e}}},addTrelloUserDailyGoalsColumn:function(e){return{type:V.ADD_TRELLO_USER_DAILY_GOALS_COLUMN,payload:{column:e}}},toggleEditTeamPopin:ae,toggleDevSelectionPopin:oe,addDevSelectionCardId:ie,addTrelloUserSprintColumn:function(e){return{type:V.ADD_TRELLO_USER_SPRINT_COLUMN,payload:{column:e}}},fetchSprintBacklogCards:function(e){return function(t){t({type:V.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.REQUEST}),window.Trello.get("lists/"+e+"/cards",{fields:"idShort,name,idMembers"},function(e){return t((r=e,{type:V.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.SUCCESS,payload:{cards:r}}));var r},function(e){return t(function(e){return{type:V.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.ERROR,payload:{errorMessage:e.message}}}(e))})}}},se=Object(m.b)(function(e){return{trelloUserFullName:function(e){return e.trelloUserState.user.fullName}(e),trelloUserBoards:function(e){return e.trelloUserState.user.boards}(e),trelloUserSelectedBoard:J(e),trelloUserColumns:function(e){return e.trelloUserState.user.columns}(e),trelloUserDailyGoalsColumn:$(e),trelloUserDailyGoalsCards:function(e){return e.trelloUserState.user.dailyGoalsColumn.cards}(e),trelloUserSprintColumn:function(e){return e.trelloUserState.user.sprintColumn.id}(e),trelloUserSprintBacklogCards:function(e){return e.trelloUserState.user.sprintColumn.cards}(e)}},le)(Object(q.a)(Q)),ce={dashboard:{display:"flex",fontFamily:"Roboto",height:"100vh"},menu:{display:"flex",flexDirection:"column",padding:15,fontFamily:"Roboto",width:300,boxSizing:"border-box",MozBoxShadow:"2px 0 10px #cccccc",WebkitBoxShadow:"2px 0 10px #cccccc",boxShadow:"2px 0 10px #cccccc"},prodPlan:{display:"flex",flexGrow:100,flexDirection:"column",position:"relative"}},de={popInContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:30,background:"white",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc",zIndex:1,borderRadius:10}},ue=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:Object(B.a)({},this.props.style,de.popInContainer)},this.props.content)}}]),t}(a.a.Component),pe={editTeamPopin:{maxWidth:600},avatarContainer:{verticalAlign:"top",display:"inline-flex",justifyContent:"center",alignItems:"center",margin:5,minWidth:50,minHeight:50,cursor:"pointer",borderRadius:"50%",boxSizing:"border-box"},avatarInTeam:{border:"4px solid orange",margin:1},avatar:{borderRadius:"50%",overflow:"hidden"},undefinedAvatar:{width:50,height:50,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:50,background:"#dddddd",textTransform:"uppercase"},editTeamPopinFooter:{textAlign:"right"}},Ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.trelloUserBoardMembers.length&&this.props.trelloUserBoardMembersOrigin===this.props.trelloUserSelectedBoard||this.props.fetchTrelloUserBoardMembers(this.props.trelloUserSelectedBoard)}},{key:"render",value:function(){var e=this,t=this.props.trelloUserBoardMembers,r=a.a.createElement("div",null,a.a.createElement("div",null,t.map(function(t){return a.a.createElement("div",{onClick:function(t,r){return e.props.toggleTrelloUserTeamMembership(t)}.bind(e,t.id),key:t.id,style:t.isInTeam?Object(B.a)({},pe.avatarContainer,pe.avatarInTeam):pe.avatarContainer,title:t.fullName},t.avatarHash?a.a.createElement("img",{style:pe.avatar,alt:t.fullName,src:"https://trello-avatars.s3.amazonaws.com/"+t.avatarHash+"/50.png"}):a.a.createElement("div",{style:pe.undefinedAvatar},t.initials))})),a.a.createElement("div",{style:pe.editTeamPopinFooter},a.a.createElement(L,{label:"Valider",onClickAction:this.props.toggleEditTeamPopin})));return a.a.createElement(ue,{style:pe.editTeamPopin,content:r})}}]),t}(a.a.Component),me={fetchTrelloUserBoardMembers:K,toggleEditTeamPopin:ae,toggleTrelloUserTeamMembership:X},Oe=Object(m.b)(function(e){return{trelloUserSelectedBoard:J(e),trelloUserBoardMembers:Z(e),trelloUserBoardMembersOrigin:ee(e)}},me)(Object(q.a)(Ee)),Se={editTeamPopin:{maxWidth:600},avatarContainer:{verticalAlign:"top",display:"inline-flex",justifyContent:"center",alignItems:"center",margin:5,minWidth:50,minHeight:50,cursor:"pointer",borderRadius:"50%",boxSizing:"border-box"},avatar:{borderRadius:"50%",overflow:"hidden"},avatarInTeam:{border:"4px solid orange",margin:1},undefinedAvatar:{width:50,height:50,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:50,background:"#dddddd",textTransform:"uppercase"},editTeamPopinFooter:{textAlign:"right"},warningMessage:{color:"#d88c00",marginBottom:10}},_e=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.trelloUserBoardMembers.length&&this.props.trelloUserBoardMembersOrigin===this.props.trelloUserSelectedBoard||this.props.fetchTrelloUserBoardMembers(this.props.trelloUserSelectedBoard)}},{key:"render",value:function(){var e=this,t=this.props.devTeamMembers,r=a.a.createElement("div",null,a.a.createElement("div",null,this.props.dailyGoalsColumn&&t.map(function(t){return a.a.createElement("div",{onClick:e.props.toggleMemberSelection.bind(e,t.id),key:t.id,style:e.props.selectedMembers.includes(t.id)?Object(B.a)({},Se.avatarContainer,Se.avatarInTeam):Se.avatarContainer,title:t.fullName},t.avatarHash?a.a.createElement("img",{style:Se.avatar,alt:t.fullName,src:"https://trello-avatars.s3.amazonaws.com/"+t.avatarHash+"/50.png"}):a.a.createElement("div",{style:Se.undefinedAvatar},t.initials))}),0===t.length&&a.a.createElement("div",{style:Se.warningMessage},"Vous devez d'abord ajouter des membres \xe0 l'\xe9quipe"),!this.props.dailyGoalsColumn&&a.a.createElement("div",{style:Se.warningMessage},"Vous devez d'abord s\xe9lectionner une colonne Daily Goals")),a.a.createElement("div",{style:Se.editTeamPopinFooter},a.a.createElement(L,{label:"Valider",onClickAction:function(){e.props.toggleDevSelectionPopin(),e.props.tagDevsOnCard(e.props.selectedCard,e.props.selectedMembers),e.props.selectedMembers.length>0&&e.props.moveCardToDailyGoals(e.props.selectedCard,e.props.dailyGoalsColumn)}})));return a.a.createElement(ue,{style:Se.editTeamPopin,content:r})}}]),t}(a.a.Component),be=r(60),he={isEditTeamPopinOpen:!1,devSelectionPopin:{isOpen:!1,selectedCardId:null,selectedMembers:[]}};var Te={fetchTrelloUserBoardMembers:K,toggleDevSelectionPopin:oe,toggleTrelloUserTeamMembership:X,tagDevsOnCard:function(e,t){return function(r){r({type:V.TAG_DEVS_ON_CARD.REQUEST}),t.forEach(function(t){return window.Trello.post("cards/"+e+"/idMembers",{value:t})})}},moveCardToDailyGoals:function(e,t){return function(r){r({type:V.MOVE_CARD_TO_DAILY_GOALS.REQUEST}),window.Trello.put("cards/"+e+"/idList",{value:t})}},toggleMemberSelection:function(e){return{type:ne.TOGGLE_MEMBER_SELECTION,payload:{memberId:e}}}},fe=Object(m.b)(function(e){return{selectedCard:function(e){return e.appState.devSelectionPopin.selectedCardId}(e),devTeamMembers:te(e),dailyGoalsColumn:$(e),trelloUserSelectedBoard:J(e),trelloUserBoardMembers:Z(e),trelloUserBoardMembersOrigin:ee(e),selectedMembers:function(e){return e.appState.devSelectionPopin.selectedMembers}(e)}},Te)(Object(q.a)(_e)),Re={container:{display:"flex",overflow:"hidden",flexDirection:"column",margin:"0px 5px 10px 5px",borderRadius:5,width:"20%"},columnHeader:{flex:"0 1 auto",display:"flex",flexDirection:"column",alignItems:"center"},grid:{position:"relative",flex:"1 1 auto",display:"flex",flexDirection:"column"},gridItem:{display:"inline-grid",width:"100%"}},Ce=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:Re.container},a.a.createElement("div",{style:Object(B.a)({},this.props.style,Re.grid)},this.props.cards.map(function(t){return a.a.createElement(H,{key:t.id,dayStartTime:e.props.dayStartTime,dayEndTime:e.props.dayEndTime,startTime:t.startTime,endTime:t.endTime,content:t.name,icon:{name:"delete"}})})))}}]),t}(a.a.Component),ye={container:{display:"flex",flexDirection:"column",alignItems:"center",margin:"10px 5px 5px 5px",backgroundColor:"#2196f3",color:"white",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc",borderRadius:5,width:"20%"},picture:{margin:7,width:50,height:50,borderRadius:"50%",overflow:"hidden"},devName:{textAlign:"center",margin:"0 7px 7px 7px",fontSize:20},undefinedAvatar:{width:50,height:50,color:"#111111",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:50,background:"#dddddd",textTransform:"uppercase"}},Le=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:ye.container},a.a.createElement("div",{style:ye.picture,title:this.props.member.fullName},this.props.member.avatarHash?a.a.createElement("img",{style:ye.avatar,alt:this.props.member.fullName,src:"https://trello-avatars.s3.amazonaws.com/"+this.props.member.avatarHash+"/50.png"}):a.a.createElement("div",{style:ye.undefinedAvatar},this.props.member.initials)),a.a.createElement("div",{style:ye.devName},this.props.member.fullName))}}]),t}(a.a.Component),ve={hourLine:{position:"absolute",top:0,color:"#cccccc",borderTop:"dashed #cccccc 1px",width:"100%"},hourLabel:{marginTop:5,marginLeft:15}},ge=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=100*(P(this.props.time)-P(this.props.dayStartTime))/(k(this.props.dayStartTime,this.props.dayEndTime)+10)+"%";return a.a.createElement("div",{style:Object(B.a)({},ve.hourLine,{top:e})},a.a.createElement("div",{style:ve.hourLabel},this.props.time.hour,"h",0!==this.props.time.minute&&this.props.time.minute))}}]),t}(a.a.Component),Ue={headerContainer:{position:"relative",display:"flex",width:"100%",overflowX:"scroll",justifyContent:"center"},columnHeadersContainer:{display:"flex",marginLeft:60,width:"100%",justifyContent:"center"},planContainer:{position:"relative",display:"flex",width:"100%",overflowX:"scroll",justifyContent:"center",flexGrow:100},columnsContainer:{display:"flex",marginLeft:60,width:"100%",overflowX:"scroll",justifyContent:"center",flexGrow:100},errorDiv:{display:"flex",margin:"0px 5px 10px 5px",background:"rgba(255, 230, 230)",color:"red",width:"20%",zIndex:1,borderRadius:5,justifyContent:"center",alignItems:"center",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc"},errorLabel:{textAlign:"center",fontSize:14}},je=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t={hour:9,minute:30},r={hour:18,minute:0};return a.a.createElement("div",{style:Object(B.a)({},this.props.style,Ue.container)},a.a.createElement("div",{style:Ue.headerContainer},a.a.createElement("div",{style:Ue.columnHeadersContainer},this.props.devTeamMembers.map(function(e){return a.a.createElement(Le,{key:e.id,style:Ue.columnHeader,member:e})}))),a.a.createElement("div",{style:Ue.planContainer},[{id:1,hour:9,minute:30},{id:2,hour:10,minute:30},{id:3,hour:11,minute:30},{id:4,hour:12,minute:30},{id:5,hour:14,minute:0},{id:6,hour:15,minute:0},{id:7,hour:16,minute:0},{id:8,hour:17,minute:0}].map(function(e){return a.a.createElement(ge,{key:e.id,time:e,dayStartTime:t,dayEndTime:r})}),a.a.createElement("div",{style:Ue.columnsContainer},this.props.devTeamMembers.map(function(n){return e.props.dailyGoalsColumn?a.a.createElement(Ce,{key:n.id,dayStartTime:t,dayEndTime:r,member:n,cards:e.props.getDailyGoalsCardsRelatedToMember(n.id)}):a.a.createElement("div",{key:n.id,style:Ue.errorDiv},a.a.createElement("span",{style:Ue.errorLabel},"Vous n'avez pas s\xe9lectionn\xe9 de colonne 'Daily Goals'"))}))))}}]),t}(a.a.Component),De=Object(m.b)(function(e){return{devTeamMembers:te(e),getDailyGoalsCardsRelatedToMember:function(t){return function(e,t){return e.trelloUserState.user.dailyGoalsColumn.cards.filter(function(e){return e.idMembers.includes(t)})}(e,t)},dailyGoalsColumn:$(e)}},{})(Object(q.a)(je)),Ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:ce.dashboard},a.a.createElement(se,{style:ce.menu}),a.a.createElement(De,{style:ce.prodPlan}),this.props.isEditTeamPopinOpen&&a.a.createElement(Oe,null),this.props.isDevSelectionPopinOpen&&a.a.createElement(fe,null))}}]),t}(a.a.Component),xe=Object(m.b)(function(e){return{isEditTeamPopinOpen:function(e){return e.appState.isEditTeamPopinOpen}(e),isDevSelectionPopinOpen:function(e){return e.appState.devSelectionPopin.isOpen}(e)}},{})(Object(q.a)(Ae)),Me=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.createElement(xe,null)}}]),t}(n.Component);var we=Object(m.b)(function(){return{}},function(){return{}})(Me),Be=function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(f.a,null,a.a.createElement(R.a,{exact:!0,path:"/",component:we})))},Ie=r(78),Ge=r(182),Pe=r.n(Ge),ke=r(183),Ne=r.n(ke),He=r(184),Fe=r(185),Qe=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).reduce(function(n,a){var o=t[a],i=r?"".concat(r,".").concat(a):a;return"string"===typeof o?n[i]=o:Object.assign(n,e(o,i)),n},{})},Ve={header:{backgroundColor:"#2196f3",padding:15,fontSize:20,fontFamily:"Roboto",color:"white"}},ze={fr:Qe(He),en:Qe(Fe)};Object(Ie.b)(Object(be.a)(Pe.a).concat(Object(be.a)(Ne.a)));var Ye=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(Ie.a,{locale:"fr",messages:ze.fr},a.a.createElement("div",{style:Ve.header},"Plannor 3000"))}}]),t}(a.a.Component),We={rootContainer:{display:"flex",flexDirection:"column",height:"100vh"}},Ke={fr:Qe(He),en:Qe(Fe)};Object(Ie.b)(Object(be.a)(Pe.a).concat(Object(be.a)(Ne.a)));var Xe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.children;return a.a.createElement(Ie.a,{locale:"fr",messages:Ke.fr},a.a.createElement("div",{style:We.rootContainer},a.a.createElement(Ye,null),e))}}]),t}(a.a.Component),qe=r(41),Je=r(186),$e=Object(qe.c)({trelloUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.FETCH_TRELLO_USER.REQUEST:return Object(B.a)({},e,{isLoading:!0});case V.FETCH_TRELLO_USER.SUCCESS:return Object(B.a)({},e,{user:Object(B.a)({},e.user,t.payload.user),isLoading:!1});case V.FETCH_TRELLO_USER.ERROR:return Object(B.a)({},e,{error:t.payload,isLoading:!1});case V.FETCH_TRELLO_USER_BOARDS.REQUEST:return Object(B.a)({},e,{isLoading:!0});case V.FETCH_TRELLO_USER_BOARDS.SUCCESS:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{boards:t.payload.boards}),isLoading:!1});case V.FETCH_TRELLO_USER_BOARDS.ERROR:return Object(B.a)({},e,{error:t.payload,isLoading:!1});case V.ADD_TRELLO_USER_SELECTED_BOARD:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{selectedBoard:t.payload.board})});case V.FETCH_TRELLO_USER_COLUMNS.SUCCESS:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{columns:t.payload.columns})});case V.ADD_TRELLO_USER_DAILY_GOALS_COLUMN:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{dailyGoalsColumn:Object(B.a)({},e.user.dailyGoalsColumn,{id:t.payload.column})})});case V.ADD_TRELLO_USER_SPRINT_COLUMN:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{sprintColumn:Object(B.a)({},e.user.sprintColumn,{id:t.payload.column})})});case V.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.SUCCESS:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{dailyGoalsColumn:Object(B.a)({},e.user.dailyGoalsColumn,{cards:t.payload.cards})})});case V.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.SUCCESS:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{sprintColumn:Object(B.a)({},e.user.sprintColumn,{cards:t.payload.cards})})});case V.FETCH_TRELLO_USER_BOARD_MEMBERS.SUCCESS:return Object(B.a)({},e,{user:Object(B.a)({},e.user,{boardMembers:t.payload.members,boardMembersOrigin:t.payload.boardOrigin})});case V.TOGGLE_TRELLO_TEAM_MEMBERSHIP:var r=e.project.devTeam.map(function(e){return e.id}).indexOf(t.payload.memberId);return Object(B.a)({},e,{project:Object(B.a)({},e.project,{devTeam:-1!==r?e.project.devTeam.filter(function(e){return e.id!==t.payload.memberId}):e.project.devTeam.concat(Object(B.a)({},e.user.boardMembers.filter(function(e){return e.id===t.payload.memberId})[0],{dailyCards:[]}))}),user:Object(B.a)({},e.user,{boardMembers:e.user.boardMembers.map(function(e){return e.id===t.payload.memberId?Object(B.a)({},e,{isInTeam:!e.isInTeam}):e})})});default:return e}},appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.TOGGLE_EDIT_TEAM_POPIN:return Object(B.a)({},e,{isEditTeamPopinOpen:!e.isEditTeamPopinOpen});case ne.TOGGLE_DEV_SELECTION_POPIN:return Object(B.a)({},e,{devSelectionPopin:Object(B.a)({},e.devSelectionPopin,{isOpen:!e.devSelectionPopin.isOpen})});case ne.ADD_DEV_SELECTION_CARD_ID:return Object(B.a)({},e,{devSelectionPopin:Object(B.a)({},e.devSelectionPopin,{selectedCardId:t.payload.cardId})});case ne.TOGGLE_MEMBER_SELECTION:return Object(B.a)({},e,{devSelectionPopin:Object(B.a)({},e.devSelectionPopin,{selectedMembers:e.devSelectionPopin.selectedMembers.includes(t.payload.memberId)?e.devSelectionPopin.selectedMembers.filter(function(e){return e!==t.payload.memberId}):Object(be.a)(e.devSelectionPopin.selectedMembers).concat([t.payload.memberId])})});default:return e}}}),Ze={trelloUserState:re,appState:he};var et=function(){return a.a.createElement(Xe,null,a.a.createElement(Be,null))},tt=function(e,t){var r=Ze.trelloUserState,n={trelloUserState:Object(B.a)({},r)},a="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qe.d,o=[Je.a];return Object(qe.e)($e,n,a(qe.a.apply(void 0,o)))}(),rt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,{store:tt},a.a.createElement(_.MuiThemeProvider,{theme:T},a.a.createElement(O.a,null,a.a.createElement(S.a,{path:"/",component:et}))))}}]),t}(a.a.Component),nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ot=s()(),it=function(){var e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qe.d,t=[Je.a];return Object(qe.e)($e,Ze,e(qe.a.apply(void 0,t)))}(),lt=it.store,st=it.persistor,ct=document.getElementById("root");ct&&(i.a.render(a.a.createElement(rt,{history:ot,store:lt,persistor:st}),ct),function(e){if("serviceWorker"in navigator){if(new URL("/plannor-3000",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/plannor-3000","/service-worker.js");nt?(function(e,t){fetch(e).then(function(r){404===r.status||-1===r.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):at(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):at(t,e)})}}())}},[[241,2,1]]]);
//# sourceMappingURL=main.3ba00c0e.chunk.js.map