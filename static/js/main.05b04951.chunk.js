(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e){e.exports={home:{"use-a-link":"Ou utilise un lien","get-started":"Pour commencer, modifie","save-to-reload":"et sauvegarde pour recharger.","create-route":"Pour cr\xe9er une route, modifie routes.js et associe une page","generate-component":"Pour cr\xe9er une page ou un simple composant, lance: ","generate-module":"Pour ajouter de la logique m\xe9tier, cr\xe9er un dossier dans redux avec tes reducers/actions/sagas/selectors/constants/...","click-me":"Click sur moi",readme:"Lis le README.md pour d\xe9couvrir les super commandes npm que nous avons ajout\xe9"},page:{back:"Retour","api-to-translate-example":"Ce message est traduit en utilisant directement l'API react-intl","fetch-github-avatar":"Affiche l'avatar github","add-github-username":"Entrer un username github"}}},187:function(e){e.exports={home:{"use-a-link":"Or use a link","get-started":"To get started, edit","save-to-reload":"and save to reload.","create-route":"To create a route, edit routes.js and link it to a page","generate-component":"To create a page or a simple component, run: ","generate-module":"To add business logic, add a file in ./redux with your reducers/actions/sagas/selectors/constants/...","click-me":"Click me",readme:"Look at the README.md to discover the awesome npm commands we added"},page:{back:"Back","api-to-translate-example":"This message is translated using directly react-intl API","fetch-github-avatar":"Show github avatar","add-github-username":"Enter a github username"}}},241:function(e,t){},243:function(e,t,r){e.exports=r(619)},610:function(e,t){},616:function(e,t){},619:function(e,t,r){"use strict";r.r(t);r(244);var n=r(0),a=r.n(n),o=r(41),i=r.n(o),l=r(233),s=r.n(l),c=r(9),d=r(10),u=r(12),p=r(11),m=r(13),E=r(33),O=r(623),S=r(622),_=r(176),b=r(237),T=r.n(b),h=Object(_.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:T.a}}),R=r(621),f=r(165),C=r(238),y=r.n(C),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(y.a,{style:this.props.style,onClick:this.props.onClickAction,variant:"contained",color:"primary"},this.props.label)}}]),t}(n.Component),v=r(201),g=r.n(v),U=r(239),j=r.n(U),D=r(200),A=r.n(D),x=r(202),M=r.n(x),B=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(A.a,{style:this.props.propStyle},a.a.createElement(g.a,{htmlFor:"age-simple"},this.props.label),a.a.createElement(M.a,{value:this.props.value,onChange:this.props.handleChange},this.props.options.map(function(e){return a.a.createElement(j.a,{key:e.value,value:e.value},e.label)})))}}]),t}(n.Component),w=r(4),I={panelButton:{minWidth:"auto",minHeight:"auto",width:"32px",height:"32px",padding:0},settingsButton:{marginRight:5},editTeamButton:{marginRight:5},refreshButton:{}},G=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.props.style},a.a.createElement(L,{style:Object(w.a)({},I.panelButton,I.settingsButton),label:a.a.createElement("i",{className:"material-icons"},"settings")}),!!this.props.isTeamEditable&&a.a.createElement(L,{style:Object(w.a)({},I.panelButton,I.editTeamButton),label:a.a.createElement("i",{className:"material-icons"},"people"),onClickAction:this.props.editTeamAction}),a.a.createElement(L,{style:Object(w.a)({},I.panelButton,I.refreshButton),label:a.a.createElement("i",{className:"material-icons"},"refresh"),onClickAction:this.props.refreshAction}))}}]),t}(a.a.Component);function P(e){return 60*e.hour+e.minute}function k(e,t){return P(t)-P(e)}function N(e){var t=e.split(":");return{hour:parseInt(t[0]),minute:parseInt(t[1])}}function H(e){return(e.hour>=10?e.hour.toString():"0"+e.hour.toString())+":"+(e.minute>=10?e.minute.toString():"0"+e.minute.toString())}var F={cardContainer:{width:"100%",backgroundColor:"#2196f3dd",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc",borderRadius:5,padding:10,boxSizing:"border-box",color:"white"},footerIcon:{display:"flex",flexDirection:"row-reverse"},icon:{cursor:"pointer"}},V=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.startTime&&this.props.dayStartTime&&this.props.dayEndTime?100*(P(this.props.startTime)-P(this.props.dayStartTime))/k(this.props.dayStartTime,this.props.dayEndTime)+"%":null,t=this.props.startTime&&this.props.endTime&&this.props.dayStartTime&&this.props.dayEndTime?100*(P(this.props.endTime)-P(this.props.startTime))/k(this.props.dayStartTime,this.props.dayEndTime)+"%":null,r=e&&t?{top:e,height:t,position:"absolute"}:null;return a.a.createElement("div",{style:Object(w.a)({},this.props.style,F.cardContainer,r)},this.props.content,a.a.createElement("div",{style:F.footerIcon},a.a.createElement("i",{style:F.icon,className:"material-icons",onClick:this.props.icon.action},this.props.icon.name)))}}]),t}(a.a.Component),Q={boardSelect:{width:"100%"},buttonsPanel:{display:"flex",justifyContent:"flex-end"},connectToTrelloButton:{display:"inline-block"},cardsContainer:{marginTop:7,flexGrow:100,overflowY:"scroll"},planCard:{marginTop:5}},z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.Trello.authorize({type:"popup",name:"Plannor 3000",scope:{read:"true",write:"true"},expiration:"never",success:function(){e.props.fetchTrelloUser(),e.props.fetchTrelloUserBoards()}})}},{key:"render",value:function(){var e=this,t=function(){e.props.fetchTrelloUser(),e.props.fetchTrelloUserBoards()},r=this.props.trelloUserBoards?this.props.trelloUserBoards.map(function(e){return{value:e.id,label:e.name}}):null,n=this.props.trelloUserColumns?this.props.trelloUserColumns.map(function(e){return{value:e.id,label:e.name}}):null;return a.a.createElement("div",{style:this.props.style},!window.Trello.authorized()&&a.a.createElement(L,{style:Q.connectToTrelloButton,label:"Se connecter avec Trello",onClickAction:function(){window.Trello.authorize({type:"popup",name:"Plannor 3000",scope:{read:"true",write:"true"},expiration:"never",success:t})}}),this.props.trelloUserBoards&&this.props.trelloUserBoards.length>0&&a.a.createElement("div",null,a.a.createElement(G,{style:Q.buttonsPanel,refreshAction:function(){e.props.fetchTrelloUserColumns(e.props.trelloUserSelectedBoard),e.props.fetchDailyGoalsCards(e.props.trelloUserDailyGoalsColumn)},isTeamEditable:this.props.trelloUserSelectedBoard.length,editTeamAction:function(){e.props.toggleEditTeamPopin()}}),a.a.createElement(B,{propStyle:Q.boardSelect,value:this.props.trelloUserSelectedBoard,handleChange:function(t){e.props.addTrelloUserSelectedBoard(t.target.value),e.props.fetchTrelloUserColumns(t.target.value)},label:"S\xe9lectionnez un board",options:r}),""!==this.props.trelloUserSelectedBoard&&a.a.createElement("div",null,a.a.createElement(B,{propStyle:Q.boardSelect,value:this.props.trelloUserSprintColumn,handleChange:function(t){e.props.addTrelloUserSprintColumn(t.target.value),e.props.fetchSprintBacklogCards(t.target.value)},label:"S\xe9lectionnez la colonne Sprint Backlog",options:n}),a.a.createElement(B,{propStyle:Q.boardSelect,value:this.props.trelloUserDailyGoalsColumn,handleChange:function(t){e.props.addTrelloUserDailyGoalsColumn(t.target.value),e.props.fetchDailyGoalsCards(t.target.value)},label:"S\xe9lectionnez la colonne Daily Goals",options:n}))),a.a.createElement("div",{style:Q.cardsContainer},this.props.trelloUserSprintBacklogCards.length>0&&this.props.trelloUserSprintBacklogCards.map(function(t){return a.a.createElement(V,{style:Q.planCard,key:t.id,content:t.name,icon:{name:"arrow_right_alt",action:function(){return function(t){e.props.toggleDevSelectionPopin(),e.props.addDevSelectionCard(t)}(t)}}})})))}}]),t}(a.a.Component),Y={FETCH_TRELLO_USER:{REQUEST:"FETCH_TRELLO_USER_REQUEST",SUCCESS:"FETCH_TRELLO_USER_SUCCESS",ERROR:"FETCH_TRELLO_USER_ERROR"},FETCH_TRELLO_USER_BOARDS:{REQUEST:"FETCH_TRELLO_USER_BOARDS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_BOARDS_SUCCESS",ERROR:"FETCH_TRELLO_USER_BOARDS_ERROR"},FETCH_TRELLO_USER_COLUMNS:{REQUEST:"FETCH_TRELLO_USER_COLUMNS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_COLUMNS_SUCCESS",ERROR:"FETCH_TRELLO_USER_COLUMNS_ERROR"},FETCH_TRELLO_USER_DAILY_GOALS_CARDS:{REQUEST:"FETCH_TRELLO_USER_DAILY_GOALS_CARDS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_DAILY_GOALS_CARDS_SUCCESS",ERROR:"FETCH_TRELLO_USER_DAILY_GOALS_CARDS_ERROR"},FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS:{REQUEST:"FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS_SUCCESS",ERROR:"FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS_ERROR"},FETCH_TRELLO_USER_BOARD_MEMBERS:{REQUEST:"FETCH_TRELLO_USER_BOARD_MEMBERS_REQUEST",SUCCESS:"FETCH_TRELLO_USER_BOARD_MEMBERS_SUCCESS",ERROR:"FETCH_TRELLO_USER_BOARD_MEMBERS_ERROR"},TAG_DEVS_ON_CARD:{REQUEST:"TAG_DEVS_ON_CARD_REQUEST",SUCCESS:"TAG_DEVS_ON_CARD_SUCCESS",ERROR:"TAG_DEVS_ON_CARD_ERROR"},MOVE_CARD_TO_DAILY_GOALS:{REQUEST:"MOVE_CARD_TO_DAILY_GOALS_REQUEST",SUCCESS:"MOVE_CARD_TO_DAILY_GOALS_SUCCESS",ERROR:"MOVE_CARD_TO_DAILY_GOALS_ERROR"},ADD_TRELLO_USER_SELECTED_BOARD:"ADD_TRELLO_USER_SELECTED_BOARD",ADD_TRELLO_USER_DAILY_GOALS_COLUMN:"ADD_TRELLO_USER_DAILY_GOALS_COLUMN",ADD_TRELLO_USER_SPRINT_COLUMN:"ADD_TRELLO_USER_SPRINT_COLUMN",TOGGLE_TRELLO_TEAM_MEMBERSHIP:"TOGGLE_TRELLO_TEAM_MEMBERSHIP",ADD_CARD_TO_DEV_DAILY_CARDS:"ADD_CARD_TO_DEV_DAILY_CARDS",REMOVE_CARDS_FROM_SPRINT_BACKLOG:"REMOVE_CARDS_FROM_SPRINT_BACKLOG"};function W(){return{type:Y.FETCH_TRELLO_USER.REQUEST}}function K(e){return{type:Y.FETCH_TRELLO_USER.SUCCESS,payload:{user:e}}}function X(e){return{type:Y.FETCH_TRELLO_USER.ERROR,payload:{errorMessage:e.message}}}var q=function(e){return function(t){t({type:Y.FETCH_TRELLO_USER_BOARD_MEMBERS.REQUEST}),window.Trello.get("boards/"+e+"/members",{fields:"avatarHash,fullName,initials"},function(r){return t((n=e,a=r,{type:Y.FETCH_TRELLO_USER_BOARD_MEMBERS.SUCCESS,payload:{boardOrigin:n,members:a}}));var n,a},function(e){return t(function(e){return{type:Y.FETCH_TRELLO_USER_BOARD_MEMBERS.ERROR,payload:{errorMessage:e.message}}}(e))})}};function J(e){return{type:Y.TOGGLE_TRELLO_TEAM_MEMBERSHIP,payload:{memberId:e}}}var $=r(624),Z=function(e){return e.trelloUserState.user.selectedBoard},ee=function(e){return e.trelloUserState.user.dailyGoalsColumn.id},te=function(e){return e.trelloUserState.user.boardMembers},re=function(e){return e.trelloUserState.user.boardMembersOrigin},ne=function(e){return e.trelloUserState.project.devTeam},ae=r(53),oe={user:{fullName:null,username:null,boards:[],selectedBoard:"",columns:[],dailyGoalsColumn:{id:"",cards:[]},sprintColumn:{id:"",cards:[]},boardMembers:[]},project:{devTeam:[]},error:null,isLoading:!1};var ie={TOGGLE_EDIT_TEAM_POPIN:"TOGGLE_EDIT_TEAM_POPIN",TOGGLE_DEV_SELECTION_POPIN:"TOGGLE_DEV_SELECTION_POPIN",ADD_DEV_SELECTION_CARD:"ADD_DEV_SELECTION_CARD",TOGGLE_MEMBER_SELECTION:"TOGGLE_MEMBER_SELECTION"};function le(){return{type:ie.TOGGLE_EDIT_TEAM_POPIN}}function se(){return{type:ie.TOGGLE_DEV_SELECTION_POPIN}}function ce(e){return{type:ie.ADD_DEV_SELECTION_CARD,payload:{card:e}}}var de={fetchTrelloUser:function(){return function(e){e(W()),window.Trello.members.get("me",{fields:"username,fullName"},function(t){return e(K(t))},function(t){return e(X(t))})}},fetchTrelloUserBoards:function(){return function(e){e({type:Y.FETCH_TRELLO_USER_BOARDS.REQUEST}),window.Trello.members.get("me/boards",{fields:"name,lists=open"},function(t){return e((r=t,{type:Y.FETCH_TRELLO_USER_BOARDS.SUCCESS,payload:{boards:r}}));var r},function(t){return e(function(e){return{type:Y.FETCH_TRELLO_USER_BOARDS.ERROR,payload:{errorMessage:e.message}}}(t))})}},fetchTrelloUserColumns:function(e){return function(t){t({type:Y.FETCH_TRELLO_USER_COLUMNS.REQUEST}),window.Trello.get("boards/"+e+"/lists",{fields:"name"},function(e){return t((r=e,{type:Y.FETCH_TRELLO_USER_COLUMNS.SUCCESS,payload:{columns:r}}));var r},function(e){return t(function(e){return{type:Y.FETCH_TRELLO_USER_COLUMNS.ERROR,payload:{errorMessage:e.message}}}(e))})}},fetchDailyGoalsCards:function(e){return function(t){t({type:Y.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.REQUEST}),window.Trello.get("lists/"+e+"/cards",{fields:"idShort,name,idMembers"},function(e){return t((r=e,{type:Y.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.SUCCESS,payload:{cards:r}}));var r},function(e){return t(function(e){return{type:Y.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.ERROR,payload:{errorMessage:e.message}}}(e))})}},addTrelloUserSelectedBoard:function(e){return{type:Y.ADD_TRELLO_USER_SELECTED_BOARD,payload:{board:e}}},addTrelloUserDailyGoalsColumn:function(e){return{type:Y.ADD_TRELLO_USER_DAILY_GOALS_COLUMN,payload:{column:e}}},toggleEditTeamPopin:le,toggleDevSelectionPopin:se,addDevSelectionCard:ce,addTrelloUserSprintColumn:function(e){return{type:Y.ADD_TRELLO_USER_SPRINT_COLUMN,payload:{column:e}}},fetchSprintBacklogCards:function(e){return function(t){t({type:Y.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.REQUEST}),window.Trello.get("lists/"+e+"/cards",{fields:"idShort,name,idMembers"},function(e){return t((r=e,{type:Y.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.SUCCESS,payload:{cards:r}}));var r},function(e){return t(function(e){return{type:Y.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.ERROR,payload:{errorMessage:e.message}}}(e))})}}},ue=Object(E.b)(function(e){return{trelloUserFullName:function(e){return e.trelloUserState.user.fullName}(e),trelloUserBoards:function(e){return e.trelloUserState.user.boards}(e),trelloUserSelectedBoard:Z(e),trelloUserColumns:function(e){return e.trelloUserState.user.columns}(e),trelloUserDailyGoalsColumn:ee(e),trelloUserDailyGoalsCards:function(e){return e.trelloUserState.user.dailyGoalsColumn.cards}(e),trelloUserSprintColumn:function(e){return e.trelloUserState.user.sprintColumn.id}(e),trelloUserSprintBacklogCards:function(e){return e.trelloUserState.user.sprintColumn.cards}(e)}},de)(Object($.a)(z)),pe={dashboard:{display:"flex",fontFamily:"Roboto",height:"100vh"},menu:{display:"flex",flexDirection:"column",padding:15,fontFamily:"Roboto",width:300,boxSizing:"border-box",MozBoxShadow:"2px 0 10px #cccccc",WebkitBoxShadow:"2px 0 10px #cccccc",boxShadow:"2px 0 10px #cccccc"},prodPlan:{display:"flex",flexGrow:100,flexDirection:"column",position:"relative"}},me={popInContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:30,background:"white",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc",zIndex:1,borderRadius:10}},Ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:Object(w.a)({},this.props.style,me.popInContainer)},this.props.content)}}]),t}(a.a.Component),Oe={editTeamPopin:{maxWidth:600},avatarContainer:{verticalAlign:"top",display:"inline-flex",justifyContent:"center",alignItems:"center",margin:5,minWidth:50,minHeight:50,cursor:"pointer",borderRadius:"50%",boxSizing:"border-box"},avatarInTeam:{border:"4px solid orange",margin:1},avatar:{borderRadius:"50%",overflow:"hidden"},undefinedAvatar:{width:50,height:50,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:50,background:"#dddddd",textTransform:"uppercase"},editTeamPopinFooter:{textAlign:"right"}},Se=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.trelloUserBoardMembers.length&&this.props.trelloUserBoardMembersOrigin===this.props.trelloUserSelectedBoard||this.props.fetchTrelloUserBoardMembers(this.props.trelloUserSelectedBoard)}},{key:"render",value:function(){var e=this,t=this.props.trelloUserBoardMembers,r=a.a.createElement("div",null,a.a.createElement("div",null,t.map(function(t){return a.a.createElement("div",{onClick:function(t,r){return e.props.toggleTrelloUserTeamMembership(t)}.bind(e,t.id),key:t.id,style:t.isInTeam?Object(w.a)({},Oe.avatarContainer,Oe.avatarInTeam):Oe.avatarContainer,title:t.fullName},t.avatarHash?a.a.createElement("img",{style:Oe.avatar,alt:t.fullName,src:"https://trello-avatars.s3.amazonaws.com/"+t.avatarHash+"/50.png"}):a.a.createElement("div",{style:Oe.undefinedAvatar},t.initials))})),a.a.createElement("div",{style:Oe.editTeamPopinFooter},a.a.createElement(L,{label:"Valider",onClickAction:this.props.toggleEditTeamPopin})));return a.a.createElement(Ee,{style:Oe.editTeamPopin,content:r})}}]),t}(a.a.Component),_e={fetchTrelloUserBoardMembers:q,toggleEditTeamPopin:le,toggleTrelloUserTeamMembership:J},be=Object(E.b)(function(e){return{trelloUserSelectedBoard:Z(e),trelloUserBoardMembers:te(e),trelloUserBoardMembersOrigin:re(e)}},_e)(Object($.a)(Se)),Te={editTeamPopin:{maxWidth:600},avatarContainer:{verticalAlign:"top",display:"inline-flex",justifyContent:"center",alignItems:"center",margin:5,minWidth:50,minHeight:50,cursor:"pointer",borderRadius:"50%",boxSizing:"border-box"},avatar:{borderRadius:"50%",overflow:"hidden"},avatarInTeam:{border:"4px solid orange",margin:1},undefinedAvatar:{width:50,height:50,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:50,background:"#dddddd",textTransform:"uppercase"},editTeamPopinFooter:{textAlign:"right"},warningMessage:{color:"#d88c00",marginBottom:10}},he=r(125),Re=r.n(he),fe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.trelloUserBoardMembers.length&&this.props.trelloUserBoardMembersOrigin===this.props.trelloUserSelectedBoard||this.props.fetchTrelloUserBoardMembers(this.props.trelloUserSelectedBoard)}},{key:"render",value:function(){var e=this,t=this.props.devTeamMembers,r=H(this.props.selectedCard.startTime),n=H(this.props.selectedCard.endTime),o=a.a.createElement("div",null,a.a.createElement("div",null,this.props.dailyGoalsColumn&&a.a.createElement("div",null,t.map(function(t){return a.a.createElement("div",{onClick:e.props.toggleMemberSelection.bind(e,t.id),key:t.id,style:e.props.selectedMembers.includes(t.id)?Object(w.a)({},Te.avatarContainer,Te.avatarInTeam):Te.avatarContainer,title:t.fullName},t.avatarHash?a.a.createElement("img",{style:Te.avatar,alt:t.fullName,src:"https://trello-avatars.s3.amazonaws.com/"+t.avatarHash+"/50.png"}):a.a.createElement("div",{style:Te.undefinedAvatar},t.initials))}),a.a.createElement("br",null),a.a.createElement(Re.a,{id:"start",label:"D\xe9but",type:"time",defaultValue:r,InputLabelProps:{shrink:!0},inputProps:{step:900},onChange:function(t){e.props.selectedCard.startTime=N(t.target.value)}}),"\xa0",a.a.createElement(Re.a,{id:"end",label:"Fin",type:"time",defaultValue:n,InputLabelProps:{shrink:!0},inputProps:{step:900},onChange:function(t){e.props.selectedCard.endTime=N(t.target.value)}})),0===t.length&&a.a.createElement("div",{style:Te.warningMessage},"Vous devez d'abord ajouter des membres \xe0 l'\xe9quipe"),!this.props.dailyGoalsColumn&&a.a.createElement("div",{style:Te.warningMessage},"Vous devez d'abord s\xe9lectionner une colonne Daily Goals")),a.a.createElement("div",{style:Te.editTeamPopinFooter},a.a.createElement(L,{label:"Valider",onClickAction:function(){e.props.toggleDevSelectionPopin(),e.props.tagDevsOnCard(e.props.selectedCard,e.props.selectedMembers),e.props.selectedMembers.length>0&&(e.props.moveCardToDailyGoals(e.props.selectedCard,e.props.dailyGoalsColumn),e.props.removeCardFromSprintBacklog(e.props.selectedCard.id))}})));return a.a.createElement(Ee,{style:Te.editTeamPopin,content:o})}}]),t}(a.a.Component),Ce={isEditTeamPopinOpen:!1,devSelectionPopin:{isOpen:!1,selectedCard:{id:null},selectedMembers:[]}};var ye={fetchTrelloUserBoardMembers:q,toggleDevSelectionPopin:se,toggleTrelloUserTeamMembership:J,tagDevsOnCard:function(e,t){return function(r){r({type:Y.TAG_DEVS_ON_CARD.REQUEST}),t.forEach(function(t){window.Trello.post("cards/"+e.id+"/idMembers",{value:t})&&r(function(e,t){return{type:Y.ADD_CARD_TO_DEV_DAILY_CARDS,payload:{devId:e,card:t}}}(t,e))})}},moveCardToDailyGoals:function(e,t){return function(r){r({type:Y.MOVE_CARD_TO_DAILY_GOALS.REQUEST}),window.Trello.put("cards/"+e.id+"/idList",{value:t})}},toggleMemberSelection:function(e){return{type:ie.TOGGLE_MEMBER_SELECTION,payload:{memberId:e}}},removeCardFromSprintBacklog:function(e){return{type:Y.REMOVE_CARDS_FROM_SPRINT_BACKLOG,payload:{cardId:e}}}},Le=Object(E.b)(function(e){return{selectedCard:function(e){return e.appState.devSelectionPopin.selectedCard}(e),devTeamMembers:ne(e),dailyGoalsColumn:ee(e),trelloUserSelectedBoard:Z(e),trelloUserBoardMembers:te(e),trelloUserBoardMembersOrigin:re(e),selectedMembers:function(e){return e.appState.devSelectionPopin.selectedMembers}(e)}},ye)(Object($.a)(fe)),ve={container:{display:"flex",overflow:"hidden",flexDirection:"column",margin:"0px 5px 10px 5px",borderRadius:5,width:"20%"},columnHeader:{flex:"0 1 auto",display:"flex",flexDirection:"column",alignItems:"center"},grid:{position:"relative",flex:"1 1 auto",display:"flex",flexDirection:"column"},gridItem:{display:"inline-grid",width:"100%"}},ge=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:ve.container},a.a.createElement("div",{style:Object(w.a)({},this.props.style,ve.grid)},this.props.cards.map(function(t){return a.a.createElement(V,{key:t.id,dayStartTime:e.props.dayStartTime,dayEndTime:e.props.dayEndTime,startTime:t.startTime,endTime:t.endTime,content:t.name,icon:{name:"delete"}})})))}}]),t}(a.a.Component),Ue={container:{display:"flex",flexDirection:"column",alignItems:"center",margin:"10px 5px 5px 5px",backgroundColor:"#2196f3",color:"white",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc",borderRadius:5,width:"20%"},picture:{margin:7,width:50,height:50,borderRadius:"50%",overflow:"hidden"},devName:{textAlign:"center",margin:"0 7px 7px 7px",fontSize:20},undefinedAvatar:{width:50,height:50,color:"#111111",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:50,background:"#dddddd",textTransform:"uppercase"}},je=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:Ue.container},a.a.createElement("div",{style:Ue.picture,title:this.props.member.fullName},this.props.member.avatarHash?a.a.createElement("img",{style:Ue.avatar,alt:this.props.member.fullName,src:"https://trello-avatars.s3.amazonaws.com/"+this.props.member.avatarHash+"/50.png"}):a.a.createElement("div",{style:Ue.undefinedAvatar},this.props.member.initials)),a.a.createElement("div",{style:Ue.devName},this.props.member.fullName))}}]),t}(a.a.Component),De={hourLine:{position:"absolute",top:0,color:"#cccccc",borderTop:"dashed #cccccc 1px",width:"100%"},hourLabel:{marginTop:5,marginLeft:15}},Ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=100*(P(this.props.time)-P(this.props.dayStartTime))/(k(this.props.dayStartTime,this.props.dayEndTime)+10)+"%";return a.a.createElement("div",{style:Object(w.a)({},De.hourLine,{top:e})},a.a.createElement("div",{style:De.hourLabel},this.props.time.hour,"h",0!==this.props.time.minute&&this.props.time.minute))}}]),t}(a.a.Component),xe={headerContainer:{position:"relative",display:"flex",width:"100%",overflowX:"scroll",justifyContent:"center"},columnHeadersContainer:{display:"flex",marginLeft:60,width:"100%",justifyContent:"center"},planContainer:{position:"relative",display:"flex",width:"100%",overflowX:"scroll",justifyContent:"center",flexGrow:100},columnsContainer:{display:"flex",marginLeft:60,width:"100%",overflowX:"scroll",justifyContent:"center",flexGrow:100},errorDiv:{display:"flex",margin:"0px 5px 10px 5px",background:"rgba(255, 230, 230)",color:"red",width:"20%",zIndex:1,borderRadius:5,justifyContent:"center",alignItems:"center",MozBoxShadow:"2px 2px 10px #cccccc",WebkitBoxShadow:"2px 2px 10px #cccccc",boxShadow:"2px 2px 10px #cccccc"},errorLabel:{textAlign:"center",fontSize:14}},Me=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t={hour:9,minute:30},r={hour:18,minute:0};return a.a.createElement("div",{style:Object(w.a)({},this.props.style,xe.container)},a.a.createElement("div",{style:xe.headerContainer},a.a.createElement("div",{style:xe.columnHeadersContainer},this.props.devTeamMembers.map(function(e){return a.a.createElement(je,{key:e.id,style:xe.columnHeader,member:e})}))),a.a.createElement("div",{style:xe.planContainer},[{id:1,hour:9,minute:30},{id:2,hour:10,minute:30},{id:3,hour:11,minute:30},{id:4,hour:12,minute:30},{id:5,hour:14,minute:0},{id:6,hour:15,minute:0},{id:7,hour:16,minute:0},{id:8,hour:17,minute:0}].map(function(e){return a.a.createElement(Ae,{key:e.id,time:e,dayStartTime:t,dayEndTime:r})}),a.a.createElement("div",{style:xe.columnsContainer},this.props.devTeamMembers.map(function(n){return e.props.dailyGoalsColumn?a.a.createElement(ge,{key:n.id,dayStartTime:t,dayEndTime:r,member:n,cards:n.dailyCards}):a.a.createElement("div",{key:n.id,style:xe.errorDiv},a.a.createElement("span",{style:xe.errorLabel},"Vous n'avez pas s\xe9lectionn\xe9 de colonne 'Daily Goals'"))}))))}}]),t}(a.a.Component),Be=Object(E.b)(function(e){return{devTeamMembers:ne(e),dailyGoalsColumn:ee(e)}},{})(Object($.a)(Me)),we=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:pe.dashboard},a.a.createElement(ue,{style:pe.menu}),a.a.createElement(Be,{style:pe.prodPlan}),this.props.isEditTeamPopinOpen&&a.a.createElement(be,null),this.props.isDevSelectionPopinOpen&&a.a.createElement(Le,null))}}]),t}(a.a.Component),Ie=Object(E.b)(function(e){return{isEditTeamPopinOpen:function(e){return e.appState.isEditTeamPopinOpen}(e),isDevSelectionPopinOpen:function(e){return e.appState.devSelectionPopin.isOpen}(e)}},{})(Object($.a)(we)),Ge=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.createElement(Ie,null)}}]),t}(n.Component);var Pe=Object(E.b)(function(){return{}},function(){return{}})(Ge),ke=function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(R.a,null,a.a.createElement(f.a,{exact:!0,path:"/",component:Pe})))},Ne=r(171),He=r(184),Fe=r.n(He),Ve=r(185),Qe=r.n(Ve),ze=r(186),Ye=r(187),We=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).reduce(function(n,a){var o=t[a],i=r?"".concat(r,".").concat(a):a;return"string"===typeof o?n[i]=o:Object.assign(n,e(o,i)),n},{})},Ke={header:{backgroundColor:"#2196f3",padding:15,fontSize:20,fontFamily:"Roboto",color:"white"}},Xe={fr:We(ze),en:We(Ye)};Object(Ne.b)(Object(ae.a)(Fe.a).concat(Object(ae.a)(Qe.a)));var qe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(Ne.a,{locale:"fr",messages:Xe.fr},a.a.createElement("div",{style:Ke.header},"Plannor 3000"))}}]),t}(a.a.Component),Je={rootContainer:{display:"flex",flexDirection:"column",height:"100vh"}},$e={fr:We(ze),en:We(Ye)};Object(Ne.b)(Object(ae.a)(Fe.a).concat(Object(ae.a)(Qe.a)));var Ze=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.children;return a.a.createElement(Ne.a,{locale:"fr",messages:$e.fr},a.a.createElement("div",{style:Je.rootContainer},a.a.createElement(qe,null),e))}}]),t}(a.a.Component),et=r(42),tt=r(188),rt=Object(et.c)({trelloUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.FETCH_TRELLO_USER.REQUEST:return Object(w.a)({},e,{isLoading:!0});case Y.FETCH_TRELLO_USER.SUCCESS:return Object(w.a)({},e,{user:Object(w.a)({},e.user,t.payload.user),isLoading:!1});case Y.FETCH_TRELLO_USER.ERROR:return Object(w.a)({},e,{error:t.payload,isLoading:!1});case Y.FETCH_TRELLO_USER_BOARDS.REQUEST:return Object(w.a)({},e,{isLoading:!0});case Y.FETCH_TRELLO_USER_BOARDS.SUCCESS:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{boards:t.payload.boards}),isLoading:!1});case Y.FETCH_TRELLO_USER_BOARDS.ERROR:return Object(w.a)({},e,{error:t.payload,isLoading:!1});case Y.ADD_TRELLO_USER_SELECTED_BOARD:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{selectedBoard:t.payload.board})});case Y.FETCH_TRELLO_USER_COLUMNS.SUCCESS:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{columns:t.payload.columns})});case Y.ADD_TRELLO_USER_DAILY_GOALS_COLUMN:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{dailyGoalsColumn:Object(w.a)({},e.user.dailyGoalsColumn,{id:t.payload.column})})});case Y.ADD_TRELLO_USER_SPRINT_COLUMN:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{sprintColumn:Object(w.a)({},e.user.sprintColumn,{id:t.payload.column})})});case Y.FETCH_TRELLO_USER_DAILY_GOALS_CARDS.SUCCESS:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{dailyGoalsColumn:Object(w.a)({},e.user.dailyGoalsColumn,{cards:t.payload.cards})})});case Y.FETCH_TRELLO_USER_SPRINT_BACKLOG_CARDS.SUCCESS:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{sprintColumn:Object(w.a)({},e.user.sprintColumn,{cards:t.payload.cards})})});case Y.FETCH_TRELLO_USER_BOARD_MEMBERS.SUCCESS:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{boardMembers:t.payload.members,boardMembersOrigin:t.payload.boardOrigin})});case Y.TOGGLE_TRELLO_TEAM_MEMBERSHIP:var r=e.project.devTeam.map(function(e){return e.id}).indexOf(t.payload.memberId);return Object(w.a)({},e,{project:Object(w.a)({},e.project,{devTeam:-1!==r?e.project.devTeam.filter(function(e){return e.id!==t.payload.memberId}):e.project.devTeam.concat(Object(w.a)({},e.user.boardMembers.filter(function(e){return e.id===t.payload.memberId})[0],{dailyCards:[]}))}),user:Object(w.a)({},e.user,{boardMembers:e.user.boardMembers.map(function(e){return e.id===t.payload.memberId?Object(w.a)({},e,{isInTeam:!e.isInTeam}):e})})});case Y.ADD_CARD_TO_DEV_DAILY_CARDS:return Object(w.a)({},e,{project:Object(w.a)({},e.project,{devTeam:e.project.devTeam.map(function(e){return e.id===t.payload.devId?Object(w.a)({},e,{dailyCards:Object(ae.a)(e.dailyCards).concat([t.payload.card])}):e})})});case Y.REMOVE_CARDS_FROM_SPRINT_BACKLOG:return Object(w.a)({},e,{user:Object(w.a)({},e.user,{sprintColumn:Object(w.a)({},e.user.sprintColumn,{cards:e.user.sprintColumn.cards.filter(function(e){return e.id!==t.payload.cardId})})})});default:return e}},appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.TOGGLE_EDIT_TEAM_POPIN:return Object(w.a)({},e,{isEditTeamPopinOpen:!e.isEditTeamPopinOpen});case ie.TOGGLE_DEV_SELECTION_POPIN:return Object(w.a)({},e,{devSelectionPopin:Object(w.a)({},e.devSelectionPopin,{isOpen:!e.devSelectionPopin.isOpen})});case ie.ADD_DEV_SELECTION_CARD:return Object(w.a)({},e,{devSelectionPopin:Object(w.a)({},e.devSelectionPopin,{selectedCard:Object(w.a)({},t.payload.card,{startTime:{hour:10,minute:0},endTime:{hour:12,minute:30}})})});case ie.TOGGLE_MEMBER_SELECTION:return Object(w.a)({},e,{devSelectionPopin:Object(w.a)({},e.devSelectionPopin,{selectedMembers:e.devSelectionPopin.selectedMembers.includes(t.payload.memberId)?e.devSelectionPopin.selectedMembers.filter(function(e){return e!==t.payload.memberId}):Object(ae.a)(e.devSelectionPopin.selectedMembers).concat([t.payload.memberId])})});default:return e}}}),nt={trelloUserState:oe,appState:Ce};var at=function(){return a.a.createElement(Ze,null,a.a.createElement(ke,null))},ot=function(e,t){var r=nt.trelloUserState,n={trelloUserState:Object(w.a)({},r)},a="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,o=[tt.a];return Object(et.e)(rt,n,a(et.a.apply(void 0,o)))}(),it=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(E.a,{store:ot},a.a.createElement(_.MuiThemeProvider,{theme:h},a.a.createElement(O.a,{basename:"/plannor3000"},a.a.createElement(S.a,{path:"/",component:at}))))}}]),t}(a.a.Component),lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function st(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ct=s()(),dt=function(){var e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,t=[tt.a];return Object(et.e)(rt,nt,e(et.a.apply(void 0,t)))}(),ut=dt.store,pt=dt.persistor,mt=document.getElementById("root");mt&&(i.a.render(a.a.createElement(it,{history:ct,store:ut,persistor:pt}),mt),function(e){if("serviceWorker"in navigator){if(new URL("/plannor3000",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/plannor3000","/service-worker.js");lt?(function(e,t){fetch(e).then(function(r){404===r.status||-1===r.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):st(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):st(t,e)})}}({}))}},[[243,2,1]]]);
//# sourceMappingURL=main.05b04951.chunk.js.map